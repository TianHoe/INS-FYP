<app-topnav></app-topnav>

<ion-content class="ion-padding">
  <ion-searchbar (ionChange)="handleChange($event)"></ion-searchbar>

  <ion-card 
    *ngFor="let booth of results" 
    [color]="booth.availability === true ? 'available' : booth.availability === false ? 'busy' : 'light'">
    <ion-card-header>
      <div class="d-flex justify-content-between">
        <ion-card-title class="font-weight-bold">{{ booth.title }}</ion-card-title>
        <ion-icon *ngIf="booth.evaluated" name="checkmark-circle-sharp">true</ion-icon>
      </div>
      <ion-card-subtitle>{{ booth.members }} {{ booth.evaluated }}</ion-card-subtitle>
    </ion-card-header>
  
    <ion-card-content>
      <a 
        *ngIf="booth.availability === false"
        [ngStyle]="{
          'pointer-events': 'none',
          'color': 'gray' }"
        [attr.aria-disabled]="!booth.availability"
        tabindex="-1">
        Not available at the moment
      </a>
      <a 
        *ngIf="booth.availability === true && booth.evaluated === false"
        [routerLink]="['/booth', booth.id]" 
        [ngStyle]="{
          'pointer-events': null,
          'color': 'default' }"
        [attr.aria-disabled]="!booth.availability"
        tabindex="0">
        Start evaluate >>
      </a>
      <a 
        *ngIf="booth.availability && booth.evaluated === true"
        [routerLink]="['/history']" 
        [ngStyle]="{ 'color': 'default' }"
        [attr.aria-disabled]="!booth.availability"
        tabindex="0">
        View history
      </a>
    </ion-card-content>
  </ion-card>
</ion-content>
